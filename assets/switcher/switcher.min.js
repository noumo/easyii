/* jquery.switcher - 1.2.4
 * https://github.com/djanix/jquery-switcher
 * Copyright (c) 2014-11-04  -  */

!function(a){function b(b,c){this.input=b,this.container=null,this.settings=a.extend({},h,a(b).data(),c),this._defaults=h,this._name=g,this.init()}function c(){this.removeEventListener("touchmove",d),this.removeEventListener("touchend",c),k=!1}function d(b){if(b.preventDefault(),k){var d=b.touches[0].pageX,e=b.touches[0].pageY,f=i-d,g=j-e,h=null;Math.abs(f)>=l?h=f>0?"left":"right":Math.abs(g)>=l&&(h=g>0?"down":"up"),h&&(c.call(this),a(this).trigger("swipe",h).trigger("swipe"+h))}}function e(a){1==a.touches.length&&(i=a.touches[0].pageX,j=a.touches[0].pageY,k=!0,this.addEventListener("touchmove",d,!1),this.addEventListener("touchend",c,!1))}function f(){this.addEventListener&&this.addEventListener("touchstart",e,!1)}var g="switcher",h={className:"switcher",selected:null,language:"en",disabled:null,style:"default",copy:{en:{yes:"yes",no:"no"},fr:{yes:"oui",no:"non"}}};a.extend(b.prototype,{init:function(){this.buildHtml(this.input,this.settings),this.bindEvents(this.container,this.settings)},buildHtml:function(b,c){var d=this,e=a(b);e.wrap('<div class="'+c.className+" "+c.style+'"></div>'),e.after('<div class="content clearfix"><div class="slider"></div><span class="text textYes"></span><span class="text textNo"></span></div>'),this.container=a(e).parent("."+c.className)[0],d.setLanguage(c.language),d.setValue(c.selected),d.setDisabled(c.disabled)},bindEvents:function(b,c){var d=this,e=a(b),f=e.find("input");e.on("click",function(){c.disabled||d.setValue("radio"==f.attr("type")?!0:e.closest("label").length?f.prop("checked"):!f.prop("checked"))}),e.on("swipeleft",function(){c.disabled||d.setValue(!1)}),e.on("swiperight",function(){c.disabled||d.setValue(!0)})},setValue:function(b){var c=this,d=a(c.input),e=a(c.container);if(null===b&&(b="radio"==d.attr("type")?"undefined"!=typeof d.filter(":checked").val():d.prop("checked")),"boolean"!=typeof b)return console.log("The parameter need to be true or false as a boolean");if(c.settings.selected=b,d.prop("checked",b).trigger("change"),"radio"==d.attr("type")){var f=d.attr("name"),g=a('input[name="'+f+'"]'),h=g.parent("."+c.settings.className);b===!0&&(h.removeClass("is-active"),g.prop("checked",!1),e.addClass("is-active"),d.prop("checked",!0))}else b===!0?e.addClass("is-active"):e.removeClass("is-active")},setDisabled:function(b){var c=this,d=a(c.input),e=a(c.container);return null===b&&(b=d.attr("disabled")?!0:!1),"boolean"!=typeof b?console.log("The parameter need to be true or false as a boolean"):(c.settings.disabled=b,void(b===!0?e.addClass("is-disabled"):e.removeClass("is-disabled")))},setLanguage:function(b){var c=this,d=a(c.container);c.settings.language=b,d.find(".textYes").text(c.settings.copy[b].yes),d.find(".textNo").text(c.settings.copy[b].no)},getLanguage:function(a){var b=this;return a(b.settings.language)},importLanguage:function(a){var b=this;b.settings.copy=a}}),a.fn[g]=function(c){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("plugin_"+g);f?"string"==typeof c&&f[c].apply(f,d):e.data("plugin_"+g,new b(this,c))}),this};var i=0,j=0,k=!1,l=30;a.event.special.swipe={setup:f},a.each(["left","up","down","right"],function(){a.event.special["swipe"+this]={setup:function(){a(this).on("swipe",a.noop)}}})}($);